
/*! jQuery Mobile v1.4.1 | Copyright 2010, 2014 jQuery Foundation, Inc. | jquery.org/license */

(function(e,t,n){typeof define=="function"&&define.amd?define(["jquery"],function(r){return n(r,e,t),r.mobile}):n(e.jQuery,e,t)})(this,document,function(e,t,n,r){(function(e,n){e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t})})(e),function(e){e.event.special.throttledresize={setup:function(){e(this).bind("resize",n)},teardown:function(){e(this).unbind("resize",n)}};var t=250,n=function(){s=(new Date).getTime(),o=s-r,o>=t?(r=s,e(this).trigger("throttledresize")):(i&&clearTimeout(i),i=setTimeout(n,t-o))},r=0,i,s,o}(e),function(e,t){function p(){var e=s();e!==o&&(o=e,r.trigger(i))}var r=e(t),i="orientationchange",s,o,u,a,f={0:!0,180:!0},l,c,h;if(e.support.orientation){l=t.innerWidth||r.width(),c=t.innerHeight||r.height(),h=50,u=l>c&&l-c>h,a=f[t.orientation];if(u&&a||!u&&!a)f={"-90":!0,90:!0}}e.event.special.orientationchange=e.extend({},e.event.special.orientationchange,{setup:function(){if(e.support.orientation&&!e.event.special.orientationchange.disabled)return!1;o=s(),r.bind("throttledresize",p)},teardown:function(){if(e.support.orientation&&!e.event.special.orientationchange.disabled)return!1;r.unbind("throttledresize",p)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=s(),t.apply(this,arguments)}}}),e.event.special.orientationchange.orientation=s=function(){var r=!0,i=n.documentElement;return e.support.orientation?r=f[t.orientation]:r=i&&i.clientWidth/i.clientHeight<1.1,r?"portrait":"landscape"},e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.attrFn&&(e.attrFn[i]=!0)}(e,this)});
/* Plugin for Cycle2; Copyright (c) 2012 M. Alsup; v20140128 */
(function(e){"use strict";e.event.special.swipe=e.event.special.swipe||{scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var i=e(this);i.bind("touchstart",function(t){function n(i){if(r){var t=i.originalEvent.touches?i.originalEvent.touches[0]:i;s={time:(new Date).getTime(),coords:[t.pageX,t.pageY]},Math.abs(r.coords[0]-s.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&i.preventDefault()}}var s,o=t.originalEvent.touches?t.originalEvent.touches[0]:t,r={time:(new Date).getTime(),coords:[o.pageX,o.pageY],origin:e(t.target)};i.bind("touchmove",n).one("touchend",function(){i.unbind("touchmove",n),r&&s&&s.time-r.time<e.event.special.swipe.durationThreshold&&Math.abs(r.coords[0]-s.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(r.coords[1]-s.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&r.origin.trigger("swipe").trigger(r.coords[0]>s.coords[0]?"swipeleft":"swiperight"),r=s=void 0})})}},e.event.special.swipeleft=e.event.special.swipeleft||{setup:function(){e(this).bind("swipe",e.noop)}},e.event.special.swiperight=e.event.special.swiperight||e.event.special.swipeleft})(jQuery);
/*!
* Velocity.js: Accelerated JavaScript animation.
* @version 0.5.0
* @docs http://velocityjs.org
* @license Copyright 2014 Julian Shapiro. MIT License: http://en.wikipedia.org/wiki/MIT_License
*/
!function(a,b,c,d){function e(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function f(a){var b=q.data(a,k);return null===b?d:b}function g(a){return function(b){return Math.round(b*a)*(1/a)}}function h(a,b){var c=a;return p.isString(a)?r.Easings[a]||(c=!1):c=p.isArray(a)&&1===a.length?g.apply(null,a):p.isArray(a)&&2===a.length?t.apply(null,a.concat([b])):p.isArray(a)&&4===a.length?s.apply(null,a):!1,c===!1&&(c=r.Easings[r.defaults.easing]?r.defaults.easing:m),c}function i(a){if(a)for(var b=(new Date).getTime(),c=0,e=r.State.calls.length;e>c;c++)if(r.State.calls[c]){var g=r.State.calls[c],h=g[0],k=g[2],l=g[3];l||(l=r.State.calls[c][3]=b-16);for(var m=Math.min((b-l)/k.duration,1),n=0,q=h.length;q>n;n++){var s=h[n],t=s.element;if(f(t)){var v=!1;k.display&&"none"!==k.display&&u.setPropertyValue(t,"display",k.display);for(var w in s)if("element"!==w){var x,y=s[w],z=p.isString(y.easing)?r.Easings[y.easing]:y.easing;if(x=1===m?y.endValue:y.startValue+(y.endValue-y.startValue)*z(m),y.currentValue=x,u.Hooks.registered[w]){var A=u.Hooks.getRoot(w),B=f(t).rootPropertyValueCache[A];B&&(y.rootPropertyValue=B)}var C=u.setPropertyValue(t,w,y.currentValue+(0===parseFloat(x)?"":y.unitType),y.rootPropertyValue,y.scrollData);u.Hooks.registered[w]&&(f(t).rootPropertyValueCache[A]=u.Normalizations.registered[A]?u.Normalizations.registered[A]("extract",null,C[1]):C[1]),"transform"===C[0]&&(v=!0)}k.mobileHA&&f(t).transformCache.translate3d===d&&(f(t).transformCache.translate3d="(0px, 0px, 0px)",v=!0),v&&u.flushTransformCache(t)}}k.display&&"none"!==k.display&&(r.State.calls[c][2].display=!1),k.progress&&k.progress.call(g[1],g[1],m,Math.max(0,l+k.duration-b),l),1===m&&j(c)}r.State.isTicking&&o(i)}function j(a,b){if(!r.State.calls[a])return!1;for(var c=r.State.calls[a][0],e=r.State.calls[a][1],g=r.State.calls[a][2],h=r.State.calls[a][4],i=!1,j=0,k=c.length;k>j;j++){var l=c[j].element;if(b||"none"!==g.display||g.loop||u.setPropertyValue(l,"display",g.display),(q.queue(l)[1]===d||!/\.velocityQueueEntryFlag/i.test(q.queue(l)[1]))&&f(l)){f(l).isAnimating=!1,f(l).rootPropertyValueCache={};var m,n=["transformPerspective","translateZ","rotateX","rotateY"],o=!1;for(var p in n)m=n[p],/^\(0[^.]/.test(f(l).transformCache[m])&&(o=!0,delete f(l).transformCache[m]);g.mobileHA&&(o=!0,delete f(l).transformCache.translate3d),o&&u.flushTransformCache(l)}b||!g.complete||g.loop||j!==k-1||g.complete.call(e,e),h&&h(e),g.queue!==!1&&q.dequeue(l,g.queue)}r.State.calls[a]=!1;for(var s=0,t=r.State.calls.length;t>s;s++)if(r.State.calls[s]!==!1){i=!0;break}i===!1&&(r.State.isTicking=!1,delete r.State.calls,r.State.calls=[])}var k="velocity",l=400,m="swing",n=function(){if(c.documentMode)return c.documentMode;for(var a=7;a>4;a--){var b=c.createElement("div");if(b.innerHTML="<!--[if IE "+a+"]><span></span><![endif]-->",b.getElementsByTagName("span").length)return b=null,a}return d}(),o=b.requestAnimationFrame||function(){var a=0;return b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||function(b){var c,d=(new Date).getTime();return c=Math.max(0,16-(d-a)),a=d+c,setTimeout(function(){b(d+c)},c)}}(),p={isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&a.length!==d&&(0===a.length||"object"==typeof a[0]&&a[0].nodeType>0)},isWrapped:function(a){return a&&(a.jquery||b.Zepto&&b.Zepto.zepto.isZ(a))},isSVG:function(a){return b.SVGElement&&a instanceof SVGElement}},q=b.jQuery||a.Velocity&&a.Velocity.Utilities;if(!q)throw new Error("Velocity: Either jQuery or Velocity's jQuery shim must first be loaded.");if(a.Velocity!==d&&!a.Velocity.Utilities)throw new Error("Velocity: Namespace is occupied.");if(7>=n){if(b.jQuery)return void(b.jQuery.fn.velocity=b.jQuery.fn.animate);throw new Error("Velocity: For IE<=7, Velocity falls back to jQuery, which must first be loaded.")}if(8===n&&!b.jQuery)throw new Error("Velocity: For IE8, Velocity requires jQuery to be loaded. (Velocity's jQuery shim does not work with IE8.)");var r=a.Velocity=a.velocity={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:b.chrome,prefixElement:c.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:b.jQuery,Sequences:{},Easings:{},Promise:b.Promise,defaults:{queue:"",duration:l,easing:m,begin:null,complete:null,progress:null,display:null,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},animate:function(){},mock:!1,version:{major:0,minor:5,patch:0},debug:!1};b.pageYOffset!==d?(r.State.scrollAnchor=b,r.State.scrollPropertyLeft="pageXOffset",r.State.scrollPropertyTop="pageYOffset"):(r.State.scrollAnchor=c.documentElement||c.body.parentNode||c.body,r.State.scrollPropertyLeft="scrollLeft",r.State.scrollPropertyTop="scrollTop");var s=function(){function a(a,b){return 1-3*b+3*a}function b(a,b){return 3*b-6*a}function c(a){return 3*a}function d(d,e,f){return((a(e,f)*d+b(e,f))*d+c(e))*d}function e(d,e,f){return 3*a(e,f)*d*d+2*b(e,f)*d+c(e)}return function(a,b,c,f){function g(b){for(var f=b,g=0;8>g;++g){var h=e(f,a,c);if(0===h)return f;var i=d(f,a,c)-b;f-=i/h}return f}if(4!==arguments.length)return!1;for(var h=0;4>h;++h)if("number"!=typeof arguments[h]||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;return a=Math.min(a,1),c=Math.min(c,1),a=Math.max(a,0),c=Math.max(c,0),function(e){return a===b&&c===f?e:d(g(e),b,f)}}}(),t=function(){function a(a){return-a.tension*a.x-a.friction*a.v}function b(b,c,d){var e={x:b.x+d.dx*c,v:b.v+d.dv*c,tension:b.tension,friction:b.friction};return{dx:e.v,dv:a(e)}}function c(c,d){var e={dx:c.v,dv:a(c)},f=b(c,.5*d,e),g=b(c,.5*d,f),h=b(c,d,g),i=1/6*(e.dx+2*(f.dx+g.dx)+h.dx),j=1/6*(e.dv+2*(f.dv+g.dv)+h.dv);return c.x=c.x+i*d,c.v=c.v+j*d,c}return function d(a,b,e){var f,g,h,i={x:-1,v:0,tension:null,friction:null},j=[0],k=0,l=1e-4,m=.016;for(a=parseFloat(a)||500,b=parseFloat(b)||20,e=e||null,i.tension=a,i.friction=b,f=null!==e,f?(k=d(a,b),g=k/e*m):g=m;;)if(h=c(h||i,g),j.push(1+h.x),k+=16,!(Math.abs(h.x)>l&&Math.abs(h.v)>l))break;return f?function(a){return j[a*(j.length-1)|0]}:k}}();!function(){r.Easings.linear=function(a){return a},r.Easings.swing=function(a){return.5-Math.cos(a*Math.PI)/2},r.Easings.spring=function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)},r.Easings.ease=s(.25,.1,.25,1),r.Easings["ease-in"]=s(.42,0,1,1),r.Easings["ease-out"]=s(0,0,.58,1),r.Easings["ease-in-out"]=s(.42,0,.58,1);var a={};q.each(["Quad","Cubic","Quart","Quint","Expo"],function(b,c){a[c]=function(a){return Math.pow(a,b+2)}}),q.extend(a,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),q.each(a,function(a,b){r.Easings["easeIn"+a]=b,r.Easings["easeOut"+a]=function(a){return 1-b(1-a)},r.Easings["easeInOut"+a]=function(a){return.5>a?b(2*a)/2:1-b(-2*a+2)/2}})}();var u=r.CSS={RegEx:{valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Hooks:{templates:{color:["Red Green Blue Alpha","255 255 255 1"],backgroundColor:["Red Green Blue Alpha","255 255 255 1"],borderColor:["Red Green Blue Alpha","255 255 255 1"],borderTopColor:["Red Green Blue Alpha","255 255 255 1"],borderRightColor:["Red Green Blue Alpha","255 255 255 1"],borderBottomColor:["Red Green Blue Alpha","255 255 255 1"],borderLeftColor:["Red Green Blue Alpha","255 255 255 1"],outlineColor:["Red Green Blue Alpha","255 255 255 1"],fill:["Red Green Blue Alpha","255 255 255 1"],stroke:["Red Green Blue Alpha","255 255 255 1"],stopColor:["Red Green Blue Alpha","255 255 255 1"],textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){var a,b,c;if(n)for(a in u.Hooks.templates){b=u.Hooks.templates[a],c=b[0].split(" ");var d=b[1].match(u.RegEx.valueSplit);"Color"===c[0]&&(c.push(c.shift()),d.push(d.shift()),u.Hooks.templates[a]=[c.join(" "),d.join(" ")])}for(a in u.Hooks.templates){b=u.Hooks.templates[a],c=b[0].split(" ");for(var e in c){var f=a+c[e],g=e;u.Hooks.registered[f]=[a,g]}}},getRoot:function(a){var b=u.Hooks.registered[a];return b?b[0]:a},cleanRootPropertyValue:function(a,b){return u.RegEx.valueUnwrap.test(b)&&(b=b.match(u.Hooks.RegEx.valueUnwrap)[1]),u.Values.isCSSNullValue(b)&&(b=u.Hooks.templates[a][1]),b},extractValue:function(a,b){var c=u.Hooks.registered[a];if(c){var d=c[0],e=c[1];return b=u.Hooks.cleanRootPropertyValue(d,b),b.toString().match(u.RegEx.valueSplit)[e]}return b},injectValue:function(a,b,c){var d=u.Hooks.registered[a];if(d){var e,f,g=d[0],h=d[1];return c=u.Hooks.cleanRootPropertyValue(g,c),e=c.toString().match(u.RegEx.valueSplit),e[h]=b,f=e.join(" ")}return c}},Normalizations:{registered:{clip:function(a,b,c){switch(a){case"name":return"clip";case"extract":var d;return u.RegEx.wrappedValueAlreadyExtracted.test(c)?d=c:(d=c.toString().match(u.RegEx.valueUnwrap),d=d?d[1].replace(/,(\s+)?/g," "):c),d;case"inject":return"rect("+c+")"}},opacity:function(a,b,c){if(8>=n)switch(a){case"name":return"filter";case"extract":var d=c.toString().match(/alpha\(opacity=(.*)\)/i);return c=d?d[1]/100:1;case"inject":return b.style.zoom=1,parseFloat(c)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(c),10)+")"}else switch(a){case"name":return"opacity";case"extract":return c;case"inject":return c}}},register:function(){function a(a){var b,c=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return a=a.replace(c,function(a,b,c,d){return b+b+c+c+d+d}),b=d.exec(a),b?"rgb("+(parseInt(b[1],16)+" "+parseInt(b[2],16)+" "+parseInt(b[3],16))+")":"rgb(0 0 0)"}var b=["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"];9>=n||r.State.isGingerbread||(b=b.concat(["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]));for(var c=0,e=b.length;e>c;c++)!function(){var a=b[c];u.Normalizations.registered[a]=function(b,c,e){switch(b){case"name":return"transform";case"extract":return f(c).transformCache[a]===d?/^scale/i.test(a)?1:0:f(c).transformCache[a].replace(/[()]/g,"");case"inject":var g=!1;switch(a.substr(0,a.length-1)){case"translate":g=!/(%|px|em|rem|\d)$/i.test(e);break;case"scal":case"scale":r.State.isAndroid&&f(c).transformCache[a]===d&&(e=1),g=!/(\d)$/i.test(e);break;case"skew":g=!/(deg|\d)$/i.test(e);break;case"rotate":g=!/(deg|\d)$/i.test(e)}return g||(f(c).transformCache[a]="("+e+")"),f(c).transformCache[a]}}}();for(var g=["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],c=0,h=g.length;h>c;c++)!function(){var b=g[c];u.Normalizations.registered[b]=function(c,e,f){switch(c){case"name":return b;case"extract":var g;if(u.RegEx.wrappedValueAlreadyExtracted.test(f))g=f;else{var h,i={aqua:"rgb(0, 255, 255);",black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",fuchsia:"rgb(255, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",lime:"rgb(0, 255, 0)",maroon:"rgb(128, 0, 0)",navy:"rgb(0, 0, 128)",olive:"rgb(128, 128, 0)",purple:"rgb(128, 0, 128)",red:"rgb(255, 0, 0)",silver:"rgb(192, 192, 192)",teal:"rgb(0, 128, 128)",white:"rgb(255, 255, 255)",yellow:"rgb(255, 255, 0)"};/^[A-z]+$/i.test(f)?h=i[f]!==d?i[f]:i.black:/^#([A-f\d]{3}){1,2}$/i.test(f)?h=a(f):/^rgba?\(/i.test(f)||(h=i.black),g=(h||f).toString().match(u.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=n||3!==g.split(" ").length||(g+=" 1"),g;case"inject":return 8>=n?4===f.split(" ").length&&(f=f.split(/\s+/).slice(0,3).join(" ")):3===f.split(" ").length&&(f+=" 1"),(8>=n?"rgb":"rgba")+"("+f.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y1";return(n||r.State.isAndroid&&!r.State.isChrome)&&(b+="|transform"),new RegExp("^("+b+")$","i").test(a)},prefixCheck:function(a){if(r.State.prefixMatches[a])return[r.State.prefixMatches[a],!0];for(var b=["","Webkit","Moz","ms","O"],c=0,d=b.length;d>c;c++){var e;if(e=0===c?a:b[c]+a.replace(/^\w/,function(a){return a.toUpperCase()}),p.isString(r.State.prefixElement.style[e]))return r.State.prefixMatches[a]=e,[e,!0]}return[a,!1]}},Values:{isCSSNullValue:function(a){return 0==a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(a){var b=a.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(b)?"inline":/^(li)$/i.test(b)?"list-item":/^(tr)$/i.test(b)?"table-row":"block"}},getPropertyValue:function(a,c,e,g){function h(a,c){var e=0;if(8>=n)e=q.css(a,c);else{if(!g){if("height"===c&&"border-box"!==u.getPropertyValue(a,"boxSizing").toString().toLowerCase())return a.offsetHeight-(parseFloat(u.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(u.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(u.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(u.getPropertyValue(a,"paddingBottom"))||0);if("width"===c&&"border-box"!==u.getPropertyValue(a,"boxSizing").toString().toLowerCase())return a.offsetWidth-(parseFloat(u.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(u.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(u.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(u.getPropertyValue(a,"paddingRight"))||0)}var i;i=f(a)===d?b.getComputedStyle(a,null):f(a).computedStyle?f(a).computedStyle:f(a).computedStyle=b.getComputedStyle(a,null),n&&"borderColor"===c&&(c="borderTopColor"),e=9===n&&"filter"===c?i.getPropertyValue(c):i[c],(""===e||null===e)&&(e=a.style[c])}if("auto"===e&&/^(top|right|bottom|left)$/i.test(c)){var j=h(a,"position");("fixed"===j||"absolute"===j&&/top|left/i.test(c))&&(e=q(a).position()[c]+"px")}return e}var i;if(u.Hooks.registered[c]){var j=c,k=u.Hooks.getRoot(j);e===d&&(e=u.getPropertyValue(a,u.Names.prefixCheck(k)[0])),u.Normalizations.registered[k]&&(e=u.Normalizations.registered[k]("extract",a,e)),i=u.Hooks.extractValue(j,e)}else if(u.Normalizations.registered[c]){var l,m;l=u.Normalizations.registered[c]("name",a),"transform"!==l&&(m=h(a,u.Names.prefixCheck(l)[0]),u.Values.isCSSNullValue(m)&&u.Hooks.templates[c]&&(m=u.Hooks.templates[c][1])),i=u.Normalizations.registered[c]("extract",a,m)}return/^[\d-]/.test(i)||(i=f(a)&&f(a).isSVG&&u.Names.SVGAttribute(c)?/^(height|width)$/i.test(c)?a.getBBox()[c]:a.getAttribute(c):h(a,u.Names.prefixCheck(c)[0])),u.Values.isCSSNullValue(i)&&(i=0),r.debug>=2&&console.log("Get "+c+": "+i),i},setPropertyValue:function(a,c,d,e,g){var h=c;if("scroll"===c)g.container?g.container["scroll"+g.direction]=d:"Left"===g.direction?b.scrollTo(d,g.alternateValue):b.scrollTo(g.alternateValue,d);else if(u.Normalizations.registered[c]&&"transform"===u.Normalizations.registered[c]("name",a))u.Normalizations.registered[c]("inject",a,d),h="transform",d=f(a).transformCache[c];else{if(u.Hooks.registered[c]){var i=c,j=u.Hooks.getRoot(c);e=e||u.getPropertyValue(a,j),d=u.Hooks.injectValue(i,d,e),c=j}if(u.Normalizations.registered[c]&&(d=u.Normalizations.registered[c]("inject",a,d),c=u.Normalizations.registered[c]("name",a)),h=u.Names.prefixCheck(c)[0],8>=n)try{a.style[h]=d}catch(k){r.debug&&console.log("Browser does not support ["+d+"] for ["+h+"]")}else f(a)&&f(a).isSVG&&u.Names.SVGAttribute(c)?a.setAttribute(c,d):a.style[h]=d;r.debug>=2&&console.log("Set "+c+" ("+h+"): "+d)}return[h,d]},flushTransformCache:function(a){function b(b){return parseFloat(u.getPropertyValue(a,b))}var c="";if((n||r.State.isAndroid&&!r.State.isChrome)&&f(a).isSVG){var d={translate:[b("translateX"),b("translateY")],skewX:[b("skewX")],skewY:[b("skewY")],scale:1!==b("scale")?[b("scale"),b("scale")]:[b("scaleX"),b("scaleY")],rotate:[b("rotateZ"),0,0]};q.each(f(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate"),d[a]&&(c+=a+"("+d[a].join(" ")+") ",delete d[a])})}else{var e,g;q.each(f(a).transformCache,function(b){return e=f(a).transformCache[b],"transformPerspective"===b?(g=e,!0):(9===n&&"rotateZ"===b&&(b="rotate"),void(c+=b+e+" "))}),g&&(c="perspective"+g+" "+c)}u.setPropertyValue(a,"transform",c)}};u.Hooks.register(),u.Normalizations.register(),r.animate=function(){function a(){return g?B.promise||null:m}function b(){function a(){function a(a){var c=d,e=d,f=d;return p.isArray(a)?(c=a[0],!p.isArray(a[1])&&/^[\d-]/.test(a[1])||p.isFunction(a[1])?f=a[1]:(p.isString(a[1])||p.isArray(a[1]))&&(e=h(a[1],g.duration),a[2]&&(f=a[2]))):c=a,e=e||g.easing,p.isFunction(c)&&(c=c.call(b,y,x)),p.isFunction(f)&&(f=f.call(b,y,x)),[c||0,e,f]}function k(a,b){var c,d;return d=(b||0).toString().toLowerCase().replace(/[%A-z]+$/,function(a){return c=a,""}),c||(c=u.Values.getUnitType(a)),[d,c]}function l(){var a={parent:b.parentNode,position:u.getPropertyValue(b,"position"),fontSize:u.getPropertyValue(b,"fontSize")},d=a.position===G.lastPosition&&a.parent===G.lastParent,e=a.fontSize===G.lastFontSize&&a.parent===G.lastParent;G.lastParent=a.parent,G.lastPosition=a.position,G.lastFontSize=a.fontSize,null===G.remToPxRatio&&(G.remToPxRatio=parseFloat(u.getPropertyValue(c.body,"fontSize"))||16);var g={overflowX:null,overflowY:null,boxSizing:null,width:null,minWidth:null,maxWidth:null,height:null,minHeight:null,maxHeight:null,paddingLeft:null},h={},i=10;if(h.remToPxRatio=G.remToPxRatio,n&&!f(b).isSVG)var j=/^auto$/i.test(b.currentStyle.width),k=/^auto$/i.test(b.currentStyle.height);d&&e||(f(b).isSVG||(g.overflowX=u.getPropertyValue(b,"overflowX"),g.overflowY=u.getPropertyValue(b,"overflowY"),g.boxSizing=u.getPropertyValue(b,"boxSizing"),g.minWidth=u.getPropertyValue(b,"minWidth"),g.maxWidth=u.getPropertyValue(b,"maxWidth")||"none",g.minHeight=u.getPropertyValue(b,"minHeight"),g.maxHeight=u.getPropertyValue(b,"maxHeight")||"none",g.paddingLeft=u.getPropertyValue(b,"paddingLeft")),g.width=u.getPropertyValue(b,"width",null,!0),g.height=u.getPropertyValue(b,"height",null,!0)),d?(h.percentToPxRatioWidth=G.lastPercentToPxWidth,h.percentToPxRatioHeight=G.lastPercentToPxHeight):(f(b).isSVG||(u.setPropertyValue(b,"overflowX","hidden"),u.setPropertyValue(b,"overflowY","hidden"),u.setPropertyValue(b,"boxSizing","content-box"),u.setPropertyValue(b,"minWidth",i+"%"),u.setPropertyValue(b,"maxWidth",i+"%"),u.setPropertyValue(b,"minHeight",i+"%"),u.setPropertyValue(b,"maxHeight",i+"%")),u.setPropertyValue(b,"width",i+"%"),u.setPropertyValue(b,"height",i+"%")),e?h.emToPxRatio=G.lastEmToPx:f(b).isSVG||u.setPropertyValue(b,"paddingLeft",i+"em"),d||(h.percentToPxRatioWidth=G.lastPercentToPxWidth=(parseFloat(u.getPropertyValue(b,"width",null,!0))||1)/i,h.percentToPxRatioHeight=G.lastPercentToPxHeight=(parseFloat(u.getPropertyValue(b,"height",null,!0))||1)/i),e||(h.emToPxRatio=G.lastEmToPx=(parseFloat(u.getPropertyValue(b,"paddingLeft"))||1)/i);for(var l in g)null!==g[l]&&u.setPropertyValue(b,l,g[l]);return f(b).isSVG||(n?(j&&u.setPropertyValue(b,"width","auto"),k&&u.setPropertyValue(b,"height","auto")):(u.setPropertyValue(b,"height","auto"),g.height!==u.getPropertyValue(b,"height",null,!0)&&u.setPropertyValue(b,"height",g.height),u.setPropertyValue(b,"width","auto"),g.width!==u.getPropertyValue(b,"width",null,!0)&&u.setPropertyValue(b,"width",g.width))),r.debug>=1&&console.log("Unit ratios: "+JSON.stringify(h),b),h}if(g.begin&&0===y&&g.begin.call(s,s),"scroll"===C){var m,o,w,z=/^x$/i.test(g.axis)?"Left":"Top",A=parseFloat(g.offset)||0;g.container?g.container.jquery||p.isNode(g.container)?(g.container=g.container[0]||g.container,m=g.container["scroll"+z],w=m+q(b).position()[z.toLowerCase()]+A):g.container=null:(m=r.State.scrollAnchor[r.State["scrollProperty"+z]],o=r.State.scrollAnchor[r.State["scrollProperty"+("Left"===z?"Top":"Left")]],w=q(b).offset()[z.toLowerCase()]+A),j={scroll:{rootPropertyValue:!1,startValue:m,currentValue:m,endValue:w,unitType:"",easing:g.easing,scrollData:{container:g.container,direction:z,alternateValue:o}},element:b}}else if("reverse"===C){if(!f(b).tweensContainer)return void q.dequeue(b,g.queue);"none"===f(b).opts.display&&(f(b).opts.display="block"),f(b).opts.loop=!1,f(b).opts.begin=null,f(b).opts.complete=null,v.easing||delete g.easing,v.duration||delete g.duration,g=q.extend({},f(b).opts,g);var D=q.extend(!0,{},f(b).tweensContainer);for(var E in D)if("element"!==E){var F=D[E].startValue;D[E].startValue=D[E].currentValue=D[E].endValue,D[E].endValue=F,v&&(D[E].easing=g.easing)}j=D}else if("start"===C){var D;f(b).tweensContainer&&f(b).isAnimating===!0&&(D=f(b).tweensContainer);for(var I in t){var J=a(t[I]),K=J[0],L=J[1],M=J[2];I=u.Names.camelCase(I);var N=u.Hooks.getRoot(I),O=!1;if(f(b).isSVG||u.Names.prefixCheck(N)[1]!==!1||u.Normalizations.registered[N]!==d){g.display&&"none"!==g.display&&/opacity|filter/.test(I)&&!M&&0!==K&&(M=0),g._cacheValues&&D&&D[I]?(M===d&&(M=D[I].endValue+D[I].unitType),O=f(b).rootPropertyValueCache[N]):u.Hooks.registered[I]?M===d?(O=u.getPropertyValue(b,N),M=u.getPropertyValue(b,I,O)):O=u.Hooks.templates[N][1]:M===d&&(M=u.getPropertyValue(b,I));var P,Q,R,S;P=k(I,M),M=P[0],R=P[1],P=k(I,K),K=P[0].replace(/^([+-\/*])=/,function(a,b){return S=b,""}),Q=P[1],M=parseFloat(M)||0,K=parseFloat(K)||0;var T;if("%"===Q&&(/^(fontSize|lineHeight)$/.test(I)?(K/=100,Q="em"):/^scale/.test(I)?(K/=100,Q=""):/(Red|Green|Blue)$/i.test(I)&&(K=K/100*255,Q="")),/[\/*]/.test(S))Q=R;else if(R!==Q&&0!==M)if(0===K)Q=R;else{T=T||l();var U=/margin|padding|left|right|width|text|word|letter/i.test(I)||/X$/.test(I)?"x":"y";switch(R){case"%":M*="x"===U?T.percentToPxRatioWidth:T.percentToPxRatioHeight;break;case"em":M*=T.emToPxRatio;break;case"rem":M*=T.remToPxRatio;break;case"px":}switch(Q){case"%":M*=1/("x"===U?T.percentToPxRatioWidth:T.percentToPxRatioHeight);break;case"em":M*=1/T.emToPxRatio;break;case"rem":M*=1/T.remToPxRatio;break;case"px":}}switch(S){case"+":K=M+K;break;case"-":K=M-K;break;case"*":K=M*K;break;case"/":K=M/K}j[I]={rootPropertyValue:O,startValue:M,currentValue:M,endValue:K,unitType:Q,easing:L},r.debug&&console.log("tweensContainer ("+I+"): "+JSON.stringify(j[I]),b)}else r.debug&&console.log("Skipping ["+N+"] due to a lack of browser support.")}j.element=b}j.element&&(H.push(j),f(b).tweensContainer=j,f(b).opts=g,f(b).isAnimating=!0,y===x-1?(r.State.calls.length>1e4&&(r.State.calls=e(r.State.calls)),r.State.calls.push([H,s,g,null,B.resolver]),r.State.isTicking===!1&&(r.State.isTicking=!0,i())):y++)}var b=this,g=q.extend({},r.defaults,v),j={};if(f(b)===d&&q.data(b,k,{isSVG:p.isSVG(b),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}}),parseFloat(g.delay)&&g.queue!==!1&&q.queue(b,g.queue,function(a){r.velocityQueueEntryFlag=!0,setTimeout(a,parseFloat(g.delay))}),r.mock===!0)g.duration=1;else switch(g.duration.toString().toLowerCase()){case"fast":g.duration=200;break;case"normal":g.duration=l;break;case"slow":g.duration=600;break;default:g.duration=parseFloat(g.duration)||1}g.easing=h(g.easing,g.duration),g.begin&&!p.isFunction(g.begin)&&(g.begin=null),g.progress&&!p.isFunction(g.progress)&&(g.progress=null),g.complete&&!p.isFunction(g.complete)&&(g.complete=null),g.display&&(g.display=g.display.toString().toLowerCase()),g.mobileHA=g.mobileHA&&r.State.isMobile&&!r.State.isGingerbread,g.queue===!1?g.delay?setTimeout(a,g.delay):a():q.queue(b,g.queue,function(b){return"clearQueue"===b?(B.promise&&B.resolver(s),!0):(r.velocityQueueEntryFlag=!0,void a(b))}),""!==g.queue&&"fx"!==g.queue||"inprogress"===q.queue(b)[0]||q.dequeue(b)}var g,m,o,s,t,v,w=arguments[0]&&(q.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||p.isString(arguments[0].properties));if(p.isWrapped(this)?(g=!1,o=0,s=this,m=this):(g=!0,o=1,s=w?arguments[0].elements:arguments[0]),s=p.isWrapped(s)?[].slice.call(s):s){w?(t=arguments[0].properties,v=arguments[0].options):(t=arguments[o],v=arguments[o+1]);var x=p.isArray(s)||p.isNodeList(s)?s.length:1,y=0;if("stop"!==t&&!q.isPlainObject(v)){var z=o+1;v={};for(var A=z;A<arguments.length;A++)!p.isArray(arguments[A])&&/^\d/.test(arguments[A])?v.duration=parseFloat(arguments[A]):p.isString(arguments[A])||p.isArray(arguments[A])?v.easing=arguments[A]:p.isFunction(arguments[A])&&(v.complete=arguments[A])}var B={promise:null,resolver:null,rejecter:null};g&&r.Promise&&(B.promise=new r.Promise(function(a,b){B.resolver=a,B.rejecter=b}));var C;switch(t){case"scroll":C="scroll";break;case"reverse":C="reverse";break;case"stop":var D=[];return q.each(r.State.calls,function(a,b){b!==!1&&q.each(p.isNode(b[1])?[b[1]]:b[1],function(b,c){q.each(p.isNode(s)?[s]:s,function(b,d){if(d===c){if(f(d)&&q.each(f(d).tweensContainer,function(a,b){b.endValue=b.currentValue}),v===!0||p.isString(v)){var e=p.isString(v)?v:"";q.each(q.queue(d,e),function(a,b){p.isFunction(b)&&b("clearQueue")}),q.queue(d,e,[])}D.push(a)}})})}),q.each(D,function(a,b){j(b,!0)}),B.promise&&B.resolver(s),a();default:if(!q.isPlainObject(t)||q.isEmptyObject(t)){if(p.isString(t)&&r.Sequences[t]){var E=v.duration;return v.backwards===!0&&(s=(s.jquery?[].slice.call(s):s).reverse()),q.each(s,function(a,b){parseFloat(v.stagger)&&(v.delay=parseFloat(v.stagger)*a),v.drag&&(v.duration=parseFloat(E)||(/^(callout|transition)/.test(t)?1e3:l),v.duration=Math.max(v.duration*(v.backwards?1-a/x:(a+1)/x),.75*v.duration,200)),r.Sequences[t].call(b,b,v||{},a,x,s,B.promise?B:d)}),a()}var F="Velocity: First argument ("+t+") was not a property map, a known action, or a registered sequence. Aborting.";return B.promise?B.rejecter(new Error(F)):console.log(F),a()}C="start"}var G={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPxRatio:null},H=[];q.each(p.isNode(s)?[s]:s,function(a,c){p.isNode(c)&&b.call(c)});var I,J=q.extend({},r.defaults,v);if(J.loop=parseInt(J.loop),I=2*J.loop-1,J.loop)for(var K=0;I>K;K++){var L={delay:J.delay};J.complete&&K===I-1&&(L.complete=J.complete),r.animate(s,"reverse",L)}return a()}};var v=b.jQuery||b.Zepto;v&&(v.fn.velocity=r.animate,v.fn.velocity.defaults=r.defaults),"undefined"!=typeof define&&define.amd?define(function(){return r}):"undefined"!=typeof module&&module.exports&&(module.exports=r),q.each(["Down","Up"],function(a,b){r.Sequences["slide"+b]=function(a,c){var d=q.extend({},c),e={height:null,marginTop:null,marginBottom:null,paddingTop:null,paddingBottom:null,overflow:null,overflowX:null,overflowY:null},f=d.begin,g=d.complete,h=!1;null!==d.display&&(d.display="Down"===b?d.display||r.CSS.Values.getDisplayType(a):d.display||"none"),d.begin=function(){function c(){a.style.display="block",e.height=r.CSS.getPropertyValue(a,"height"),a.style.height="auto",r.CSS.getPropertyValue(a,"height")===e.height&&(h=!0),r.CSS.setPropertyValue(a,"height",e.height+"px")}if("Down"===b){e.overflow=[r.CSS.getPropertyValue(a,"overflow"),0],e.overflowX=[r.CSS.getPropertyValue(a,"overflowX"),0],e.overflowY=[r.CSS.getPropertyValue(a,"overflowY"),0],a.style.overflow="hidden",a.style.overflowX="visible",a.style.overflowY="hidden",c();for(var d in e)/^overflow/.test(d)||(e[d]=[r.CSS.getPropertyValue(a,d),0]);a.style.display="none"}else{c();for(var d in e)e[d]=[0,r.CSS.getPropertyValue(a,d)];a.style.overflow="hidden",a.style.overflowX="visible",a.style.overflowY="hidden"}f&&f.call(a,a)},d.complete=function(a){var c="Down"===b?0:1;h===!0?e.height[c]="auto":e.height[c]+="px";for(var d in e)a.style[d]=e[d][c];g&&g.call(a,a)},r.animate(a,e,d)}}),q.each(["In","Out"],function(a,b){r.Sequences["fade"+b]=function(a,c,d,e){var f=q.extend({},c),g={opacity:"In"===b?1:0};d!==e-1&&(f.complete=f.begin=null),null!==f.display&&(f.display="In"===b?r.CSS.Values.getDisplayType(a):"none"),r.animate(this,g,f)}})}(window.jQuery||window.Zepto||window,window,document);
!function(){var t=window.jQuery||window.Zepto||window;if(!t.Velocity||!t.Velocity.Utilities)return console.log("Velocity UI Pack: Velocity must be loaded first. Aborting."),void 0;if(!t.Velocity.version){var a="Velocity UI Pack: You need to update your jquery.velocity.js to a newer version. Visit http://github.com/julianshapiro/velocity.";throw alert(a),new Error(a)}t.Velocity.RegisterUI=function(a,e){function r(a,e,r,i){var n,s=0;t.Velocity.Utilities.each(a,function(a,e){i&&(r+=a*i),n=e.parentNode,t.Velocity.Utilities.each(["height","paddingTop","paddingBottom","marginTop","marginBottom"],function(a,r){s+=parseFloat(t.Velocity.CSS.getPropertyValue(e,r))})}),t.Velocity.animate(n,{height:("In"===e?"+":"-")+"="+s},{queue:!1,easing:"ease-in-out",duration:r*("In"===e?.6:1.1)})}t.Velocity.Sequences[a]=function(i,n,s,l,o,c){function u(){n.complete&&n.complete.call(o,o),c&&c.resolver(o||i)}for(var f=s===l-1,p=0;p<e.calls.length;p++){var d=e.calls[p],y=d[0],g=n.duration||e.defaultDuration||1e3,Y=d[1],m=d[2]||{},X={};X.duration=g*(Y||1),X.queue=n.queue||"",X.easing=m.easing||"ease",X.delay=m.delay||0,0===p&&(X.delay+=n.delay||0,0===s&&(X.begin=function(){n.begin&&n.begin.call(o,o);var t=a.match(/(In|Out)$/);n.animateParentHeight&&t&&r(o,t[0],g+X.delay,n.stagger)}),null!==n.display&&(n.display&&"none"!==n.display?X.display=n.display:/In$/.test(a)&&(X.display=t.Velocity.CSS.Values.getDisplayType(i)))),p===e.calls.length-1&&(X.complete=function(){if(e.reset){for(var a in e.reset){var r=e.reset[a];("string"==typeof r||"number"==typeof r)&&(e.reset[a]=[e.reset[a],e.reset[a]])}var n={duration:0,queue:!1};f&&(n.complete=u),t.Velocity.animate(i,e.reset,n)}else f&&u()},null!==n.display&&(n.display?X.display=n.display:/Out$/.test(a)&&(X.display="none"))),t.Velocity.animate(i,y,X)}}},t.Velocity.RegisterUI.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-10},.125],[{translateX:10},.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{translateX:0},.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"swing",1]},.25],[{opacity:[1,"swing"]},.25],[{opacity:[0,"swing"]},.25],[{opacity:[1,"swing"]},.25]]},"callout.pulse":{defaultDuration:850,calls:[[{scaleX:1.1,scaleY:1.1},.5],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1e3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:400,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:400,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{transformPerspective:0,rotateX:[10]}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","25%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["25%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:900,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,180]}]]},"transition.whirlOut":{defaultDuration:900,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:180}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.625],scaleY:[1,1.625],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.35,scaleY:1.35,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:950,calls:[[{opacity:1,scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:0,scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,"easeOutQuad",0],translateY:[-30,1e3]},.6],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1e3,calls:[[{opacity:[1,"easeInQuad",1],translateY:20},.2],[{opacity:0,translateY:-1e3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,"easeOutQuad",0],translateY:[30,-1e3]},.6],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1e3,calls:[[{opacity:[1,"easeInQuad",1],translateY:-20},.2],[{opacity:0,translateY:1e3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:800,calls:[[{opacity:[1,"easeOutQuad",0],translateX:[30,-1e3]},.6],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:900,calls:[[{opacity:[1,"easeOutQuad",1],translateX:20},.2],[{opacity:0,translateX:-1e3},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:800,calls:[[{opacity:[1,"easeOutQuad",0],translateX:[-30,1e3]},.6],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:950,calls:[[{opacity:[1,"easeOutQuad",1],translateX:-30},.2],[{opacity:0,translateX:1e3},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var e in t.Velocity.RegisterUI.packagedEffects)t.Velocity.RegisterUI(e,t.Velocity.RegisterUI.packagedEffects[e])}();
var App={vars:{SLIDER_SEMAPHORE:!0,preload:{COUNT_IMAGES:1,IS_ALL_LOADED:!1},SCROLL_HANDLER:"mousewheel DOMMouseScroll touchmove"},config:{PRELOAD:!0,MOBILE_THRESHOLD:767,TABLET_THRESHOLD:1025,POLLING_TIMER:100,STANDARD_ANIM_TIMING:300,MENU_ANIM_TIMING:400,AJAX_SEPARATOR:"||",MENU_SCROLL_SEMAPHORE:!0,CANVAS_SIZE_MODIFIER:2.2,CANVAS_FRAME_RATIO:4,CANVAS_BASE_LINE_SIZE:3,SCROLL_PERCENTAGE_ANIMATION:.8,OSPITALITY_BLOCK_TRANSALTE:20,slider:{},home:{},video_home_page:{width:1920,height:1080,ratio:1980/1080}},screen:{info:{width:1,height:1,orientation:"",ratio:1,scrollTop:0,scrollbarSize:0,IS_TOUCH_DISPLAY:Modernizr.touch},takeData:function(e,t){var a,i;App.screen.info.width=window.innerWidth&&!t?window.innerWidth:$(window).width(),App.screen.info.height=window.innerHeight&&!t?window.innerHeight:$(window).height(),App.screen.info.ratio=App.screen.info.width/App.screen.info.height,a="undefined"!=typeof e.orientation?"portrait"===e.orientation:App.screen.info.width<App.screen.info.height,i=a?"portrait":"landscape",App.screen.info.orientation=i,$html=App.vars.html||$("html").removeClass("portrait").removeClass("landscape").addClass(i),App.vars.HAS_GET_INFO=!0},getScrollbarWidth:function(){var e=document.createElement("div");e.className="scrollbar-measure",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;App.screen.info.scrollbarSize=t,document.body.removeChild(e)},getInfo:function(e){if("load"===e.type&&(App.screen.getScrollbarWidth(),!App.screen.info.IS_TOUCH_DISPLAY)){var t=$("html");t.addClass("no-touch")}"orientationchange"===e.type?setTimeout(function(){App.screen.takeData(e,!0)},App.config.STANDARD_ANIM_TIMING):App.screen.takeData(e,!1)}},handlers:{privacy:function(e){var t=$(".privacy-trigger"),a=$("#close-privacy");if("load"===e.type){var i=$("#privacy-overlay");i.velocity({scale:.3},{duration:1}),t.on("click",function(e){var t=$("#privacy-overlay");e.preventDefault(),t.show().velocity({opacity:1,scale:1},{duration:App.config.STANDARD_ANIM_TIMING,complete:function(){App.utils.scrollBar.hide()}})}),a.on("click",function(e){var t=$("#privacy-overlay");e.preventDefault(),t.velocity({opacity:0,scale:.3},{duration:App.config.STANDARD_ANIM_TIMING,display:"none",complete:function(){App.utils.scrollBar.show()}})})}},navigation:function(e){var t=$(".corner"),a=($(window),$(".link-part")),i=$(".discover");("scroll"===e.type||"load"===e.type)&&($(window).scrollTop()>0?t.addClass("out"):t.removeClass("out"),$(window).scrollTop()>0?a.addClass("bg"):a.removeClass("bg"),$(window).scrollTop()>0?i.addClass("out"):i.removeClass("out"))},menu:function(e){var t=$("#menu_trigger"),a=$(window);"load"===e.type&&t.on("click",function(){var e=$("#wrapper_menu"),t=$(".table-menu"),i=e,o=t,n=(e.hasClass("show"),$(".corner")),r=$(".link-part");e.hasClass("show")&&(i=t,o=e),a.scrollTop()>0?n.toggleClass("out"):"",n.toggleClass("evidence"),r.toggleClass("evidence"),setTimeout(function(){e.removeClass("scroll"),setTimeout(function(){i.toggleClass("show"),setTimeout(function(){o.toggleClass("show"),setTimeout(function(){e.addClass("scroll")},App.config.MENU_ANIM_TIMING)},App.config.MENU_ANIM_TIMING/4)},App.config.MENU_ANIM_TIMING/4)},App.config.STANDARD_ANIM_TIMING)})},menuScroll:function(e){var t,a=$("#menu_trigger"),i=($(window),$("#wrapper_menu"));"scroll"===e.type&&i.height()>0&&!Modernizr.touch&&App.config.MENU_SCROLL_SEMAPHORE&&(a.trigger("click"),App.config.MENU_SCROLL_SEMAPHORE=!1,t=setTimeout(function(){App.config.MENU_SCROLL_SEMAPHORE=!0},3*App.config.MENU_ANIM_TIMING))}},page:{mobilePerformance:function(){if(Modernizr.touch){var e=$("video");e.remove()}},familyHeight:{init:function(){var e=$(".imagebottom"),t=$(".descbottom");e.length&&t.length&&(e.height()>t.height()?t.css("height",e.height()+"px"):e.height()<t.height()&&e.css("height",t.height()+"px"))}},loader:{init:function(e){if("load"===e.type){var t="preload-image",a=$("[data-"+t+"]");App.vars.preload.COUNT_IMAGES=a.length-1,a.length||(App.vars.preload.IS_ALL_LOADED=!0),a.each(function(e){var a=$(this),i=a.data(t);i.length&&App.utils.genericPreloadImage(i,function(){if(e===App.vars.preload.COUNT_IMAGES){App.vars.preload.IS_ALL_LOADED=!0;{$("#intro_video")}}})});var i=setInterval(function(){var e=$("#loader"),t=$("#loader-wrapper"),a=t.find(".loader-section");App.vars.preload.IS_ALL_LOADED&&(clearTimeout(i),e.velocity({opacity:0},{delay:2*App.config.STANDARD_ANIM_TIMING,duration:App.config.STANDARD_ANIM_TIMING,complete:function(){var e=a.first(),i=a.last();e.velocity({translateX:"-100%"},{duration:1.5*App.config.STANDARD_ANIM_TIMING}),i.velocity({translateX:"100%"},{duration:1.5*App.config.STANDARD_ANIM_TIMING,complete:function(){if(t.hide(),App.utils.scrollBar.resetScroll(),!Modernizr.touch&&location.hash.length){var e=$(location.hash);e.velocity("scroll",{duration:1.5*App.config.STANDARD_ANIM_TIMING,offset:-e.height()/2})}}})}}))},App.config.POLLING_TIMER)}}},news:{init:function(e){var t=$("#news-list-filter");if("load"===e.type){var a,i=" > li ",o=$(".news-list-wrapper");t.length&&(a=t.find(i),t.on("click",i,function(){{var e=$(this);e.parent()}return e.hasClass("active")?!1:(a.removeClass("active"),e.addClass("active"),void 0)})),o.length&&o.on("click",function(){if(!(App.screen.info.width>App.config.TABLET_THRESHOLD)){var e=$(this),t=e.children(),a=t.is(":visible"),i="";t.length&&(i=a?"slideUp":"slideDown",t.stop(!0,!1).velocity(i,{duration:App.config.STANDARD_ANIM_TIMING}))}})}"resize"===e.type&&App.screen.info.width>App.config.TABLET_THRESHOLD&&t.css({height:"auto"}).show()}},map:{init:function(e){var t=$(".has-to-draw-map");t.length&&"load"===e.type&&App.gMaps.loadScript("App.page.map.enoteche")},enoteche:function(){var e=$(".map");e.length&&e.each(function(){var e,t,a,i=$(this),o=i.data("id"),n=App.gMaps.getMapOpt(o),r=i.data("latitude"),l=i.data("longitude"),s={path:"M14.121,51.275c3.602,3.88,6.479,6.172,6.518,6.204 c0.503,0.399,1.213,0.401,1.718,0.003c0.052-0.043,5.151-4.066,10.285-10.541c2.566-3.239,5.143-7.094,7.091-11.393 c1.946-4.297,3.265-9.046,3.267-14.048C42.997,9.625,33.374,0.001,21.499,0C9.625,0.001,0,9.625,0,21.5 c0,4.969,1.321,9.701,3.266,13.992C6.189,41.928,10.521,47.394,14.121,51.275 M8.252,8.253c3.395-3.392,8.069-5.487,13.247-5.487 c5.179,0,9.853,2.095,13.247,5.487c3.393,3.394,5.486,8.069,5.486,13.247c0.002,4.51-1.194,8.878-3.019,12.907 c-2.735,6.044-6.89,11.3-10.361,15.021c-1.734,1.86-3.297,3.34-4.421,4.349c-0.366,0.33-0.665,0.589-0.93,0.816 c-1.688-1.461-5.619-5.061-9.438-10.012c-2.383-3.087-4.719-6.694-6.448-10.611c-1.73-3.917-2.851-8.136-2.851-12.47 C2.767,16.322,4.86,11.647,8.252,8.253",fillColor:"white",fillOpacity:1,scale:.6,strokeColor:"white",strokeWeight:1};t=new google.maps.Map(document.getElementById(o),n),a=new google.maps.LatLngBounds,"undefined"!=typeof r&&"undefined"!=typeof l&&(e=new google.maps.LatLng(r,l),s=new google.maps.Marker({position:e,map:t,icon:s}),a.extend(e)),t.setCenter(a.getCenter()),google.maps.event.addDomListener(window,"resize",function(){t.setCenter(a.getCenter())})})}},cantine:{init:function(e){var t,a=$(".triple-section"),i=$(".cda-section"),o=App.config.OSPITALITY_BLOCK_TRANSALTE;if("load"===e.type&&i.length&&!Modernizr.touch&&(t=i.find(".image-part"),t.each(function(){var e=$(this);e.velocity({scale:.6,rotateZ:"-20deg"},{duration:1})})),"load"===e.type&&a.length&&!Modernizr.touch){var n=a.find(".triple-left"),r=a.find(".triple-right"),l=a.find(".triple-center");n.length&&r.length&&l.length&&!Modernizr.length&&(n.velocity({translateX:2*-o+"%",opacity:0},{duration:1}),l.velocity({translateY:o+"%",opacity:0},{duration:1}),r.velocity({translateX:2*o+"%",opacity:0},{duration:1}))}},animateBlocks:function(){var e,t,a,i,o,n,r,l=$(".triple-section"),s=$(".cda-section"),c=$(window),p={};s.length&&(t=s.offset().top<=c.scrollTop()+c.height()*(App.config.SCROLL_PERCENTAGE_ANIMATION+.1),t&&(e=s.find(".image-part"),e.each(function(e){var t=$(this);t.velocity({scale:1,rotateZ:"0deg"},{duration:1.5*App.config.STANDARD_ANIM_TIMING,easing:"easeInSine",delay:.5*App.config.STANDARD_ANIM_TIMING*(e+1)})}))),l.length&&(a=l.find(".triple-left"),i=l.find(".triple-right"),o=l.find(".triple-center"),p={translateX:"0%",translateY:"0%",opacity:1},r=0,n=l.offset().top<=c.scrollTop()+c.height()*App.config.SCROLL_PERCENTAGE_ANIMATION,n&&(a.velocity(p,{duration:App.config.STANDARD_ANIM_TIMING,easing:"easeInSine",delay:App.config.STANDARD_ANIM_TIMING/3*r++}),o.velocity(p,{duration:App.config.STANDARD_ANIM_TIMING,easing:"easeInSine",delay:App.config.STANDARD_ANIM_TIMING/3*r++}),i.velocity(p,{duration:App.config.STANDARD_ANIM_TIMING,easing:"easeInSine",delay:App.config.STANDARD_ANIM_TIMING/3*r++})))}},ospitality:{init:function(e){var t=$(".row-article"),a=t.find(".block"),i=App.config.OSPITALITY_BLOCK_TRANSALTE;t.length&&"load"===e.type&&(Modernizr.touch?a.css({opacity:1}):t.each(function(e){var t,a=$(this),o=a.find(".block"),n=o.first(),r=o.last();t=e%2===0?-i:i,n.velocity({translateX:-t+"%"},{duration:1}),r.velocity({translateX:t+"%"},{duration:1})}))},animateBlocks:function(){var e=$(".row-article"),t=$(window);e.length&&e.each(function(){var e,a=$(this),i={opacity:1,translateX:"0%"};if(e=a.offset().top<=t.scrollTop()+t.height()*(App.config.SCROLL_PERCENTAGE_ANIMATION+.1)){var o=a.find(".block"),n=o.first(),r=o.last();n.velocity(i,{duration:App.config.STANDARD_ANIM_TIMING,easing:"easeInSine"}),r.velocity(i,{duration:App.config.STANDARD_ANIM_TIMING,easing:"easeOutSine",delay:App.config.STANDARD_ANIM_TIMING/3})}})}},videoHandler:function(e){if("load"===e.type){var t=$("#home-play-button"),a=document.getElementById("home-seek-bar"),i=document.getElementById("home-video"),o=$("#home-play-pause"),n=$("#progress");n.css({width:0}),t.on("click",function(e){e.preventDefault();{var t=$(this),a=t.data("id-video"),i=$("#"+a),o=document.getElementById(a);document.getElementById("home-seek-bar")}if(i.length){i.css({display:"block",visibility:"visible"}),o.paused&&o.play();var n=$("#video-initial-controls"),r=$("#video-controls"),l=$(".corner");l.addClass("out").delay(App.config.STANDARD_ANIM_TIMING),i.velocity({opacity:1},{duration:App.config.STANDARD_ANIM_TIMING}),n.velocity({opacity:0},{duration:App.config.STANDARD_ANIM_TIMING,complete:function(){r.velocity({opacity:1},{duration:App.config.STANDARD_ANIM_TIMING})}})}}),"undefined"!=typeof a&&null!=a&&a.addEventListener("change",function(){var e=i.duration*(a.value/100);i.currentTime=e}),"undefined"!=typeof i&&null!=i&&(i.addEventListener("timeupdate",function(){var e=100/i.duration*i.currentTime;a.value=e,n.stop(!0,!1).velocity({width:e+"%"},{duration:App.config.STANDARD_ANIM_TIMING/5})}),i.addEventListener("ended",function(){setTimeout(function(){var e=$("#video-initial-controls"),t=$("#video-controls"),a=$(".corner"),i=$(".hidden-video");i.velocity({opacity:0},{duration:App.config.STANDARD_ANIM_TIMING,complete:function(){t.velocity({opacity:0},{duration:App.config.STANDARD_ANIM_TIMING,delay:App.config.STANDARD_ANIM_TIMING/3,complete:function(){e.velocity({opacity:1},{duration:App.config.STANDARD_ANIM_TIMING,delay:App.config.STANDARD_ANIM_TIMING/3,complete:function(){var e=$(window);!e.scrollTop()>0&&a.removeClass("out")}})}})}})},App.config.STANDARD_ANIM_TIMING)})),o.length&&o.on("click",function(){var e=$(this);e.toggleClass("pause"),i.paused?i.play():i.pause()})}},internal:{init:function(){},timeline:{init:function(e){if("load"===e.type){var t=$("#timeline-container"),a="span.year",i="span.year.active",o=t.find(a),n=$(".timeline-trigger");t.length&&(o.length&&o.each(function(e){var t=$(this);t.data("index",e)}),n.on("click",function(e){e.preventDefault();var a=$(this),n=a.data("direction"),r=t.find(i);if(!r.length)return!1;var l,s=r.data("index");return 0===s&&"prev"===n?!1:s===o.length-1&&"next"===n?!1:(l="next"===n?s+1:s-1,o.eq(l).trigger("click"),void 0)}),t.on("click",a,function(){var e=$(this);return e.hasClass("active")?!1:(o.removeClass("active"),e.addClass("active"),App.page.internal.timeline.updateTimeline(e),void 0)}),o.length&&o.first().trigger("click"))}},updateTimeline:function(e){for(var t={fields:{0:"text",1:"title",2:"year",3:"image",count:4},prefix:"timeline-"},a={},i=0;i<t.fields.count;i++)t[t.fields[i]]=e.data(t.fields[i]);for(i=0;i<t.fields.count;i++)a={selector:t.fields[i],val:t[t.fields[i]],index:i,prefix:t.prefix},App.utils.temporizeCallback(function(e){var t=e;if("image"===t.selector)App.utils.genericPreloadImage(t.val,function(){var e=$("#"+t.prefix+t.selector);e.length&&e.velocity({translateY:Modernizr.touch?"0%":"-30%",opacity:0},{duration:1.5*App.config.STANDARD_ANIM_TIMING,complete:function(){e.attr("src",t.val).velocity({translateY:"0%",opacity:1},{duration:1.5*App.config.STANDARD_ANIM_TIMING})}})});else{var a=$("#"+t.prefix+t.selector);a.length&&a.velocity({translateY:Modernizr.touch?"0%":"30%",opacity:0},{duration:App.config.STANDARD_ANIM_TIMING,complete:function(){a.html(t.val).velocity({translateY:"0%",opacity:1},{delay:App.config.STANDARD_ANIM_TIMING,duration:1.2*App.config.STANDARD_ANIM_TIMING})}})}},1*(a.index+1),a)}},sliderCantina:function(e){if("load"===e.type){var t=$("#slider-controls"),a="> li",i=t.find(a),o=$("#slider-text");"undefined"!=typeof t&&t.length&&(i.each(function(e){var t=$(this);t.data("index",e)}),t.on("click",a,function(){var e,a=$(this),n=a.data("text"),r=100,l=t.find("> li.active");return a.hasClass("active")?!1:(e=l.data("index"),i.removeClass("active"),a.addClass("active"),r*=e>a.data("index")?1:-1,o.velocity({opacity:0,translateX:r+"%"},{duration:App.config.STANDARD_ANIM_TIMING,easing:"linear",complete:function(){o.velocity({translateX:-r+"%"},{duration:1}),o.empty().html(n).velocity({opacity:1,translateX:"0%"},{duration:App.config.STANDARD_ANIM_TIMING,easing:"linear"}),App.vars.SLIDER_SEMAPHORE=!0}}),void 0)}),o.on("swipeleft swiperight",function(e){if(App.vars.SLIDER_SEMAPHORE){App.vars.SLIDER_SEMAPHORE=!1;var a=t.find("> li.active"),o=i.length-1,n=a.data("index"),r=0,l="swipeleft"===e.type?"forward":"backward";r="backward"===l?n-1:n+1,"backward"===l&&0===n||"forward"===l&&n===o?App.vars.SLIDER_SEMAPHORE=!0:i.eq(r).trigger("click")}}),i.first().trigger("click"))}},sliderVigneti:function(e){if("load"===e.type){var t=$("#slider-controls-vigneti"),a="> li",i=t.find(a),o=$("#slider-text-vigneti"),n=$("#big-title-vigneti"),r=$("#bg"),l=$("#vigneti-slider-link");"undefined"!=typeof t&&t.length&&(i.each(function(e){var t=$(this);t.data("index",e)}),t.on("click",a,function(){var e,a=$(this),s=a.data("text"),c=a.data("title"),p=a.data("link"),d=a.data("background"),A=100,g=t.find("> li.active");return a.hasClass("active")?!1:(e=g.data("index"),i.removeClass("active"),a.addClass("active"),t.data("active-index",a.data("index")),A*=e>a.data("index")?1:-1,r.velocity("fadeOut",{duration:App.config.STANDARD_ANIM_TIMING,complete:function(){r.css("background-image","url("+d+")").velocity("fadeIn",App.config.STANDARD_ANIM_TIMING)}}),n.empty().html(c),l.attr("href",p),o.velocity({opacity:0,translateX:A+"%"},{duration:App.config.STANDARD_ANIM_TIMING,easing:"linear",complete:function(){o.velocity({translateX:-A+"%"},{duration:1}),o.empty().html(s).velocity({opacity:1,translateX:"0%"},{duration:App.config.STANDARD_ANIM_TIMING,easing:"linear"}),App.vars.SLIDER_SEMAPHORE=!0}}),void 0)}),o.on("swipeleft swiperight",function(e){if(App.vars.SLIDER_SEMAPHORE){App.vars.SLIDER_SEMAPHORE=!1;var a=(t.find("> li.active"),i.length-1),o=t.data("active-index"),n=0,r="swipeleft"===e.type?"forward":"backward";n="backward"===r?o-1:o+1,"backward"===r&&0===o||"forward"===r&&o===a?App.vars.SLIDER_SEMAPHORE=!0:i.eq(n).trigger("click")}}),i.first().trigger("click"))}},scrollEffect:function(e){var t,a=$(".minisite-wine-presentation"),i=15,o=$(".minisite-presentation"),n=$(window),r=o.find(".big-title"),l=o.find(".standard-text"),s=$("#wrapper-cantina-logo"),c=$("#horizontal-block-anim"),p=c.find("> div");if(!a.length||!o.length||Modernizr.touch)return!1;"load"===e.type&&(a.each(function(e){var t,a=$(this),o=e+1,n=a.find(".description-part"),r=a.find(".image-part"),l={};l.opacity=0,t=o%2===0?-i:i,l.translateX=t+"%",n.velocity(l,{duration:1}),l.translateX=-1*t+"%",r.velocity(l,{duration:1}),a.addClass("ready")}),r.velocity({translateX:1.5*i+"%",opacity:0},{duration:1}),l.velocity({translateX:1.5*-i+"%",opacity:0},{duration:1}),s.velocity({scale:.6,opacity:0},{duration:1}),p.first().velocity({translateX:2*i+"%",opacity:0},{duration:1}),p.last().velocity({translateX:2*-i+"%",opacity:0},{duration:1})),t=o.offset().top<=n.scrollTop()+n.height()*(App.config.SCROLL_PERCENTAGE_ANIMATION-.1),t&&(r.velocity({opacity:1,translateX:"0%"},{duration:App.config.STANDARD_ANIM_TIMING}),l.velocity({opacity:1,translateX:"0%"},{duration:App.config.STANDARD_ANIM_TIMING,delay:.75*App.config.STANDARD_ANIM_TIMING})),a.each(function(){var e=$(this),t=e.offset().top<=n.scrollTop()+n.height()*(App.config.SCROLL_PERCENTAGE_ANIMATION-.05);if(t&&!e.hasClass("animated")&&e.hasClass("ready")){e.addClass("animated");var a=e.find(".description-part"),i=e.find(".image-part"),o={opacity:1,translateX:"0%"};a.velocity(o,{duration:1.5*App.config.STANDARD_ANIM_TIMING,easing:"easeInSine"}),i.velocity(o,{duration:1.5*App.config.STANDARD_ANIM_TIMING,easing:"easeInSine",delay:App.config.STANDARD_ANIM_TIMING})}});var d=!1;s.length&&(d=s.offset().top<=n.scrollTop()+n.height()*(App.config.SCROLL_PERCENTAGE_ANIMATION-.2),d&&s.velocity({opacity:1,scale:1},{duration:1.5*App.config.STANDARD_ANIM_TIMING,easing:"ease"}));var A=!1;c.length&&(A=c.offset().top<=n.scrollTop()+n.height()*(App.config.SCROLL_PERCENTAGE_ANIMATION-.2),A&&p.velocity({opacity:1,translateX:"0%"},{duration:1.5*App.config.STANDARD_ANIM_TIMING,easing:"ease"}))}},home:{updateNews:function(e){var t={1:"image",2:"date",3:"title",4:"text",5:"link",loop:5},a=0,i="";if("undefined"!=typeof e&&e.length){for(var o,n={},r=0,l={};a<t.loop;a++)r=a+1,n[t[r]]=e.data(t[r]);for(n.prefix="news-",a=0,l.opacity=0;a<t.loop;a++){var s=a+1,c={},p=n[t[s]],d=t[s],A=n.prefix+t[s];o=$("#"+A),c.newVal=p,c.name=d,c.content=o,c.index=a,c.transition=l,c.timed="image"===c.name?App.config.STANDARD_ANIM_TIMING/2:App.config.STANDARD_ANIM_TIMING/3,o.length&&App.utils.temporizeCallback(function(e){e.content.velocity(e.transition,{duration:e.timed,easing:"easeOutSine",complete:function(){"image"===e.name?App.utils.genericPreloadImage(e.newVal,function(){e.content.css({"background-image":"url("+e.newVal+")"})}):"link"===e.name?(i.length?e.content.show():e.content.hide(),e.content.attr("href",e.newVal)):("text"===e.name&&(i=e.content),e.content.empty().html(e.newVal)),setTimeout(function(){e.content.velocity({opacity:1},{duration:e.timed,easing:"easeInSine"})},e.timed)}})},c.timed*(c.index+1),c)}}},circleTrigger:function(e){var t=$(".indicator-arc"),a=$(".best-wine-section");if("undefined"==typeof a||!a.length)return!1;if(Modernizr.touch)Modernizr.touch&&"load"===e.type&&(a.addClass("triggered"),t.first().trigger("click"));else{var i=$(window),o=a.offset().top<=i.scrollTop()+i.height()*App.config.SCROLL_PERCENTAGE_ANIMATION;!a.hasClass("triggered")&&o&&(a.addClass("triggered"),setTimeout(function(){t.first().trigger("click")},App.config.STANDARD_ANIM_TIMING))}},updateBottle:function(e){var t=e.data("image"),a=$("#bottle");"undefined"!=typeof t&&t.length&&a.length&&App.utils.genericPreloadImage(t,function(){a.velocity({opacity:0,translateY:"-15%"},{duration:App.config.STANDARD_ANIM_TIMING,easing:"easeOutSine",complete:function(){setTimeout(function(){a.css({"background-image":"url("+t+")"}).velocity({opacity:1,translateY:"0%"},{duration:App.config.STANDARD_ANIM_TIMING,easing:"easeOutSine"})},2*App.config.STANDARD_ANIM_TIMING)}})})},updateInfo:function(e){for(var t={1:"logo",2:"title",3:"text",4:"link",prefix:"best-wine-",loop:4},a=0;a<t.loop;a++){var i=t[a+1],o={ii:a+1,newVal:e.data(i),values:t};App.utils.temporizeCallback(function(e){var t,a,i,o,n={};n.translateX="100%",n.opacity=0,t=$("#"+e.values.prefix+e.values[e.ii]),a="logo"===e.values[e.ii],i="link"===e.values[e.ii],i?n.translateX="0%":"",i?n.opacity=1:"",o=i?t.parent():t,o.velocity(n,{duration:App.config.STANDARD_ANIM_TIMING,easing:"ease",complete:function(){var n={};n.translateX="0%",n.opacity=1,a?(Modernizr.svg&&e.newVal.indexOf(".")>0&&(e.newVal=e.newVal.split(".")[0]+".svg"),App.utils.genericPreloadImage(e.newVal,function(){var t=$("#"+e.values.prefix+e.values[e.ii]),a="link"===e.values[e.ii],i=a?t.parent():t;i.attr("src",e.newVal).velocity(n,{duration:.7*App.config.STANDARD_ANIM_TIMING,easing:"ease"})})):(i?(t.attr("src",e.newVal),t.hasClass("not-initialized")&&t.removeClass("not-initialized")):t.empty().html(e.newVal),o.velocity(n,{duration:.7*App.config.STANDARD_ANIM_TIMING,easing:"ease"}))}})},App.config.STANDARD_ANIM_TIMING*(a+1),o)}},updatePercentage:function(e){for(var t={1:"percentage-first",2:"percentage-second",3:"percentage-third",size:3},a=t.size,i=0;a>i;i++){var o=t[i+1],n={itemToUpdate:$("#"+o),newVal:e.data(o)};App.utils.temporizeCallback(function(e){var t={};t.opacity=0,t.left="-60%",e.itemToUpdate.velocity(t,{duration:App.config.STANDARD_ANIM_TIMING/2,easing:"ease",complete:function(){var t={};t.opacity=1,t.left="0%",e.itemToUpdate.html(e.newVal),e.itemToUpdate.velocity(t)}})},App.config.STANDARD_ANIM_TIMING*(i+1),n)}},updateWineData:function(e){return"undefined"!=typeof e&&e.length&&(App.page.home.updatePercentage(e),App.page.home.updateInfo(e),App.page.home.updateBottle(e)),!1},drawCircle:function(e){if("resize"!==e.eventType){var t,a=$("#"+e.canvas),i=(e.eventType,e.sizeCanvas),o=App.config.CANVAS_BASE_LINE_SIZE,n=1,r=i/2-o;for((a.hasClass("active")||a.hasClass("pre-active"))&&(n=o*App.config.CANVAS_FRAME_RATIO),t=0;n>t;t++){var l={};l.idCanvas=a.data("id"),l.x=i/2,l.y=i/2,l.start=(a.data("start")-.5)*Math.PI,l.end=(a.data("end")-.5)*Math.PI,l.clockwise="no"===a.data("clockwise"),l.radius=r,l.color=a.data("color"),l.baseLineSize=o,l.direction=null,l.ii=t,a.hasClass("pre-active")&&(l.direction="close"),App.utils.temporizeCallback(function(e){var t,a=document.getElementById(e.idCanvas),i=a.getContext("2d"),o=e.baseLineSize+e.ii;0===e.ii&&(a.width=e.x*App.config.CANVAS_SIZE_MODIFIER,a.height=e.y*App.config.CANVAS_SIZE_MODIFIER),t=e.x,null!==e.direction&&"close"===e.direction&&(o=e.baseLineSize*(App.config.CANVAS_FRAME_RATIO-1)-(e.ii+1)/2),i.clearRect(0,0,e.x*App.config.CANVAS_SIZE_MODIFIER,e.x*App.config.CANVAS_SIZE_MODIFIER),i.beginPath(),i.arc(e.x*App.config.CANVAS_SIZE_MODIFIER/2,e.y*App.config.CANVAS_SIZE_MODIFIER/2,t,e.start,e.end,e.clockwise),i.lineWidth=o,i.strokeStyle=e.color,i.stroke()},(t+1)*(App.config.STANDARD_ANIM_TIMING/n),l)}}},drawCanvas:function(e){var t=$(".canvas-container"),a=e;if(t.length&&Modernizr.canvas){var i=t.find(".canvas"),o=.9*t.height();i.each(function(){var e,t=$(this).data("id");e={canvas:t,eventType:a,sizeCanvas:o},App.page.home.drawCircle(e)})}},sectionNews:function(e){var t=$("#home_news_container"),a=$("#news_navigation"),i=a.find("> li"),o=i.first();t.length&&a.length&&i.css({width:o.height(),"line-height":o.height()+"px"}),"load"===e.type&&(a.on("click","> li:not(.share)",function(){var e=$(this);return e.hasClass("active")?!1:(i.removeClass("active"),e.addClass("active"),App.page.home.updateNews(e),void 0)}),o.trigger("click"))},circleSection:function(e){var t=".indicator-arc",a=$(t),i=$(".canvas"),o=e.type;$(document).on("click",t,function(){var e=$(this);if(e.hasClass("active"))return!1;var t=$("#"+e.data("reffer")),n=$(".canvas.active");i.removeClass("pre-active"),i.removeClass("active"),n.addClass("pre-active"),t.addClass("active"),a.removeClass("active"),e.addClass("active"),App.page.home.drawCanvas(o),App.page.home.updateWineData(e)}),App.page.home.drawCanvas(o),"load"===e.type&&App.page.home.circleTrigger(e)}},init:function(e){var t=$(".full-section"),a=$(".play-button"),i=$("html"),o=$(".lang-switch-wrapper .current-lang");App.register.newsletterSignUp(e),App.submitForm.ospitalitaForm(e),App.submitForm.contattiForm(e),App.loadNews.filteredNews(e),App.handlers.privacy(e),(!i.hasClass("video")||Modernizr.touch)&&(a.hide(),$(".play-button.visita").show());var n=$("img.has-svg");"load"===e.type&&n.length&&!Modernizr.svg&&n.attr("src",n.data("fallback")),"load"===e.type&&App.config.PRELOAD,App.config.PRELOAD&&App.page.loader.init(e),t.each(function(){var e=$(this);e.css({height:App.screen.info.height}),Modernizr.touch&&e.css({"background-attachment":"scroll"})});var r=$(".full-screen-video");if(r.length){"load"!==e.type||"preload"!==r.data("preload")||Modernizr.touch||r.on("canplaythrough",function(){r.addClass("visible")});var l={width:App.screen.info.width+"px",height:"auto"},s=App.config.video_home_page.ratio/App.screen.info.ratio;App.screen.info.ratio<App.config.video_home_page.ratio&&(l.width=Math.ceil(App.screen.info.width*s)+"px"),r.css(l)}var c=$(".ratio-block");c.each(function(){var e=$(this),t=e.data("ratio"),a=e.width();t>0&&e.css({height:a*t})}),o.length&&"load"===e.type&&o.on("click",function(e){e.preventDefault();var t,a=$(this),i=a.siblings(".list-lang"),o=i.is(":visible");i.length&&(t=o?"slideUp":"slideDown",i.stop(!0,!1).velocity(t,{duration:App.config.STANDARD_ANIM_TIMING}))})}},gMaps:{map:null,geocoder:null,bounds:null,getMapOpt:function(){var e={mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,draggable:!0,zoomControl:!0,disableDoubleClickZoom:!1,zoom:14,styles:[{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:30}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]}]};return e},asyncCall:function(e,t,a){e.geocode({address:t},function(e,t){t==google.maps.GeocoderStatus.OK?a(e):console.log("Geocode was not successful for the following reason: "+t)})},addMarkers:function(e){var t=$("#"+e),a=t.find("> .user");return a.each(function(){var e,t=$(this),a=t.data("latitude"),i=t.data("longitude"),o=(t.data("address"),t.data("tooltip")),n=null;if(e=new google.maps.InfoWindow({content:""}),"undefined"!=typeof a&&"undefined"!=typeof i){a=(a+"").replace(",","."),i=(i+"").replace(",",".");var r=new google.maps.LatLng(a,i);n=new google.maps.Marker({position:r,map:App.gMaps.map}),App.gMaps.bounds.extend(r),"undefined"!=typeof o&&o.length&&google.maps.event.addListener(n,"click",function(){e.setContent(o),e.open(App.gMaps.map,n)})}}),!1},initMap:function(){var e="map-container",t="user-list",a=App.gMaps.getMapOpt(e);App.gMaps.map=new google.maps.Map(document.getElementById(e),a),App.gMaps.geocoder=new google.maps.Geocoder,App.gMaps.bounds=new google.maps.LatLngBounds,App.gMaps.addMarkers(t),App.gMaps.map.fitBounds(App.gMaps.bounds),App.gMaps.map.setCenter(App.gMaps.bounds.getCenter()),google.maps.event.addDomListener(window,"resize",function(){App.gMaps.map.setCenter(App.gMaps.bounds.getCenter())})},loadScript:function(e){var t=document.createElement("script"),a="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false",i=e||"App.gMaps.initMap";a+="&callback="+i,t.type="text/javascript",t.src=a,document.body.appendChild(t)}},utils:{prefixTransform:function(e){var t={"-ms-transform":e,"-webkit-transform":e,"-moz-transform":e,transform:e};return t},genericPreloadImage:function(e,t,a){var i=new Image;$(i).attr("src",e).on("load error",function(){t(a)})},scrollBar:{blockScroll:function(){$(window).on(App.vars.SCROLL_HANDLER,function(e){return e.preventDefault(),!1})},resetScroll:function(){$(window).off(App.vars.SCROLL_HANDLER)},hide:function(){$("body").css({overflow:"hidden"})},show:function(){$("body").css({overflow:"visible"})}},temporizeCallback:function(e,t,a){var i=t||App.config.STANDARD_ANIM_TIMING;setTimeout(function(){e(a)},i)},validation:{email:function(e){var t=!0;if(void 0===typeof e||null==e||""===e)t=!1;else{var a=new RegExp(/^[-a-zA-Z0-9][-.a-zA-Z0-9]*@[-.a-zA-Z0-9]+(\.[-.a-zA-Z0-9]+)*\.(com|edu|info|gov|int|mil|net|org|biz|name|museum|coop|aero|pro|tv|[a-zA-Z]{2})$/i);t=a.test(e)}return t}}},register:{newsletterSignUp:function(e){var t=$("#btnInviaNewsletter");"load"===e.type&&t.on("click",function(e){var a=$(this);if(e.preventDefault(),a.data("stop")>0)return!1;a.data("stop",1),a.addClass("stop");var i=$("#txtEmail"),o=$("#txtNome"),n=$("#txtCognome"),r=$("#ddlNazione"),l=$("#nl-privacy-check"),s=$("#nl_ok_msg"),c=$("#nl_ko_msg"),p={},d=o,A=n,g=r,f=i,v=!1;l.removeClass("error"),d.removeClass("error"),A.removeClass("error"),g.removeClass("error"),f.removeClass("error"),!o.val().length>0?(d.addClass("error"),v=!0):d.removeClass("error"),!n.val().length>0?(A.addClass("error"),v=!0):A.removeClass("error"),r.val()<1?(g.addClass("error"),v=!0):g.removeClass("error"),!i.val().length>0?(f.addClass("error"),v=!0):f.removeClass("error"),i.val().length&&!App.utils.validation.email(i.val())&&(f.addClass("error"),v=!0),l.length&&l.is(":checked")||(l.addClass("error"),v=!0),p.nome=o.val(),p.cognome=n.val(),p.nazione=r.val(),p.email=i.val(),p.ok_msg=s.val(),p.ko_msg=c.val(),v?(t.data("stop",0),t.removeClass("stop"),t.addClass("shake"),setTimeout(function(){t.removeClass("shake")},3*App.config.STANDARD_ANIM_TIMING)):$.ajax({type:"POST",url:"/ajax.aspx/aquidRegistration",data:"{ val: '"+JSON.stringify(p)+"' }",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){var a=$("#toast-notification");a.find(".text").empty().html(e.d),a.show().velocity({opacity:1,scale:1},{duration:App.config.STANDARD_ANIM_TIMING,complete:function(){a.velocity({opacity:0,scale:.3},{duration:App.config.STANDARD_ANIM_TIMING,display:"none",delay:20*App.config.STANDARD_ANIM_TIMING}),t.data("stop",0),t.removeClass("stop")}})},error:function(e){console.log("error save nl subscription "+e.d)}})})}},loadNews:{filteredNews:function(){var e=$(".news-list-filter > li > a"),t=$(".lblLang").text();e.on("click",function(){var e=$(this).data("id");$.ajax({type:"POST",url:"/ajax.aspx/loadNewsPage",data:"{idfilterednews: "+e+", lang: '"+t+"'}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){{var t=$("#news-list-items"),a=t.find("> .news-item");a.length}t.css({overflow:"hidden"}).append(e.d),a.velocity("slideUp",{duration:3*App.config.STANDARD_ANIM_TIMING,stagger:!1,complete:function(){setTimeout(function(){a.remove()},App.config.STANDARD_ANIM_TIMING)}})},error:function(){console.log("error")}})})}},submitForm:{ospitalitaForm:function(e){var t=$("#btnInviaOspitalita");"load"===e.type&&t.on("click",function(e){var a=$(this);if(e.preventDefault(),a.data("stop")>0)return!1;a.data("stop",1),a.addClass("stop");var i=$("#txtEmailForm"),o=$("#txtNomeForm"),n=$("#txtCognomeForm"),r=$("#ddlRichiesta"),l=$("#txtNumeroTelefono"),s=$("#txtOrarioContatto"),c=$("#txtNumeroPartecipanti"),p=$("#txtOrarioPreferito"),d=$("#nl-privacy-check-form"),A=$("#nl-privacy-check-cond-form"),g=$("#form_ok_msg"),f=$("#form_ko_msg"),v={},u=o,m=n,h=i,I=r,N=l,y=s,_=c,T=p,M=!1;d.removeClass("error"),A.removeClass("error"),u.removeClass("error"),m.removeClass("error"),h.removeClass("error"),I.removeClass("error"),N.removeClass("error"),y.removeClass("error"),_.removeClass("error"),T.removeClass("error"),!o.val().length>0?(u.addClass("error"),M=!0):u.removeClass("error"),!n.val().length>0?(m.addClass("error"),M=!0):m.removeClass("error"),r.val()<1?(I.addClass("error"),M=!0):I.removeClass("error"),!l.val().length>0?(N.addClass("error"),M=!0):N.removeClass("error"),!s.val().length>0?(y.addClass("error"),M=!0):y.removeClass("error"),!c.val().length>0?(_.addClass("error"),M=!0):_.removeClass("error"),!p.val().length>0?(T.addClass("error"),M=!0):T.removeClass("error"),!i.val().length>0?(h.addClass("error"),M=!0):h.removeClass("error"),i.val().length&&!App.utils.validation.email(i.val())&&(h.addClass("error"),M=!0),A.length&&A.is(":checked")||(A.addClass("error"),M=!0),d.length&&d.is(":checked")||(d.addClass("error"),M=!0),v.nome=o.val(),v.cognome=n.val(),v.email=i.val(),v.richiesta=r.val(),v.num_telefono=l.val(),v.orario_contatto=s.val(),v.num_partecipanti=c.val(),v.orario_pref=p.val(),v.ok_msg=g.val(),v.ko_msg=f.val(),M?(t.data("stop",0),t.removeClass("stop"),t.addClass("shake"),setTimeout(function(){t.removeClass("shake")
},3*App.config.STANDARD_ANIM_TIMING)):$.ajax({type:"POST",url:"/ajax.aspx/ospitalitaForm",data:"{ val: '"+JSON.stringify(v)+"' }",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){var a=$("#degustazione-form-message");a.find(".standard-text").empty().html(e.d),a.velocity("fadeIn",{duration:App.config.STANDARD_ANIM_TIMING,complete:function(){a.velocity("fadeOut",{duration:App.config.STANDARD_ANIM_TIMING,display:"none",delay:20*App.config.STANDARD_ANIM_TIMING}),t.data("stop",0),t.removeClass("stop")}})},error:function(e){console.log("error save ospitalita subscription "+e.d)}})})},contattiForm:function(e){var t=$("#btnInviaContatti");"load"===e.type&&t.on("click",function(e){var a=$(this);if(e.preventDefault(),a.data("stop")>0)return!1;a.data("stop",1),a.addClass("stop");var i=$("#txtEmailContatti"),o=$("#txtNomeContatti"),n=$("#txtCognomeContatti"),r=$("#ddlRiferimentoMail"),l=$("#txtRichiestaContatti"),s=$("#nl-privacy-check-contatti"),c=$("#contatti_ok_msg"),p=$("#contatti_ko_msg"),d=$("#oggetto_news"),A={},g=o,f=n,v=i,u=r,m=l,h=!1;s.removeClass("error"),g.removeClass("error"),f.removeClass("error"),v.removeClass("error"),u.removeClass("error"),m.removeClass("error"),!o.val().length>0?(g.addClass("error"),h=!0):g.removeClass("error"),!n.val().length>0?(f.addClass("error"),h=!0):f.removeClass("error"),!l.val().length>0?(m.addClass("error"),h=!0):m.removeClass("error"),r.val()<1?(u.addClass("error"),h=!0):u.removeClass("error"),!i.val().length>0?(v.addClass("error"),h=!0):v.removeClass("error"),i.val().length&&!App.utils.validation.email(i.val())&&(v.addClass("error"),h=!0),s.length&&s.is(":checked")||(s.addClass("error"),h=!0),A.nome=o.val(),A.cognome=n.val(),A.email=i.val(),A.areainteresse=r.val(),A.richiesta=l.val(),A.ok_msg=c.val(),A.ko_msg=p.val(),A.oggettoNews=d.val(),h?(t.data("stop",0),t.removeClass("stop"),t.addClass("shake"),setTimeout(function(){t.removeClass("shake")},3*App.config.STANDARD_ANIM_TIMING)):$.ajax({type:"POST",url:"/ajax.aspx/contattiForm",data:"{ val: '"+JSON.stringify(A)+"' }",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){var a=$("#degustazione-form-message");a.find(".standard-text").empty().html(e.d),a.velocity("fadeIn",{duration:App.config.STANDARD_ANIM_TIMING,complete:function(){a.velocity("fadeOut",{duration:App.config.STANDARD_ANIM_TIMING,display:"none",delay:20*App.config.STANDARD_ANIM_TIMING}),t.data("stop",0),t.removeClass("stop")}})},error:function(e){console.log("error save contatti subscription "+e.d)}})})}}};
var App=App||{};!function(){App.page.mobilePerformance(),jQuery.fn.reverse=function(){return this.pushStack(this.get().reverse(),arguments)},App.utils.scrollBar.blockScroll()}(),$(window).on("load resize orientationchange ",function(e){if("resize"===e.type&&Modernizr.touch)return!1;App.vars.HAS_GET_INFO=!1,App.screen.getInfo(e);var p=setInterval(function(){App.vars.HAS_GET_INFO&&(clearInterval(p),App.page.init(e),App.handlers.menu(e),App.page.home.sectionNews(e),App.page.home.circleSection(e),App.page.internal.sliderCantina(e),App.page.internal.sliderVigneti(e),App.page.internal.timeline.init(e),App.page.videoHandler(e),App.page.ospitality.init(e),App.page.cantine.init(e),App.page.map.init(e),App.page.news.init(e),App.page.familyHeight.init(e))},App.config.POLLING_TIMER)}),$(window).on("load scroll",function(e){"scroll"===e.type&&(App.handlers.menuScroll(e),App.page.home.circleTrigger(e)),App.handlers.navigation(e),App.page.internal.init(e),App.page.internal.scrollEffect(e),App.page.ospitality.animateBlocks(e),App.page.cantine.animateBlocks(e)});